#include "Entity.h"

//-----------------------------------------------------------------------------
// Purpose: 更新処理
//-----------------------------------------------------------------------------
void Entity::Update() {
	for (const auto element : children_) {
		if (element != nullptr) {
			element->Update();
		}
	}
}

//-----------------------------------------------------------------------------
// Purpose: 子を追加します
//-----------------------------------------------------------------------------
void Entity::AddChild(Entity* child) {
	children_.push_back(child);
	child->SetParent(this);
}

//-----------------------------------------------------------------------------
// Purpose: トランスフォームを設定します
//-----------------------------------------------------------------------------
void Entity::SetTransform(const Transform& newTransform) {
	transform_ = newTransform;
}

//-----------------------------------------------------------------------------
// Purpose: 座標を設定します
//-----------------------------------------------------------------------------
void Entity::SetPosition(const Vec3& newPos) {
	transform_.translate = newPos;
}

//-----------------------------------------------------------------------------
// Purpose: 回転を設定します
//-----------------------------------------------------------------------------
void Entity::SetRotation(const Vec3& newRot) {
	transform_.rotate = newRot;
}

//-----------------------------------------------------------------------------
// Purpose: 拡縮を設定します
//-----------------------------------------------------------------------------
void Entity::SetScale(const Vec3& newScale) {
	transform_.scale = newScale;
}

//-----------------------------------------------------------------------------
// Purpose: 親を設定します
//-----------------------------------------------------------------------------
void Entity::SetParent(Entity* parent) {
	parent_ = parent;
}

//-----------------------------------------------------------------------------
// Purpose: トランスフォームを取得します
//-----------------------------------------------------------------------------
Transform& Entity::GetTransform() {
	return transform_;
}

//-----------------------------------------------------------------------------
// Purpose: 座標を取得します
//-----------------------------------------------------------------------------
Vec3& Entity::Position() {
	return transform_.translate;
}

//-----------------------------------------------------------------------------
// Purpose: 回転を取得します
//-----------------------------------------------------------------------------
Vec3& Entity::Rotation() {
	return transform_.rotate;
}

//-----------------------------------------------------------------------------
// Purpose: 拡縮を取得します
//-----------------------------------------------------------------------------
Vec3& Entity::Scale() {
	return transform_.scale;
}

//-----------------------------------------------------------------------------
// Purpose:	親を取得します
//-----------------------------------------------------------------------------
Entity* Entity::GetParent() const {
	return parent_;
}
